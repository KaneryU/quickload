string thread string race condition